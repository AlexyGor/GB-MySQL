/*i. Заполнить все таблицы БД vk данными (по 10-20 записей в каждой таблице)*/

USE vk;

insert into users (id, firstname, lastname, email, phone) values (1, 'Giovanni', 'Conner', 'gconner0@weather.com', null);
insert into users (id, firstname, lastname, email, phone) values (2, 'Alastair', 'Merrell', 'amerrell1@sitemeter.com', null);
insert into users (id, firstname, lastname, email, phone) values (3, 'Gerhardine', 'Pochet', 'gpochet2@ebay.co.uk', null);
insert into users (id, firstname, lastname, email, phone) values (4, 'Carce', 'Cuerdale', 'ccuerdale3@ovh.net', null);
insert into users (id, firstname, lastname, email, phone) values (5, 'Fraze', 'Clemendot', 'fclemendot4@omniture.com', null);
insert into users (id, firstname, lastname, email, phone) values (6, 'Durward', 'Henkens', 'dhenkens5@dmoz.org', null);
insert into users (id, firstname, lastname, email, phone) values (7, 'Channa', 'Snoxell', 'csnoxell6@ucoz.ru', null);
insert into users (id, firstname, lastname, email, phone) values (8, 'Erie', 'Castree', 'ecastree7@reference.com', null);
insert into users (id, firstname, lastname, email, phone) values (9, 'Hurlee', 'Buy', 'hbuy8@smh.com.au', null);
insert into users (id, firstname, lastname, email, phone) values (10, 'Andrus', 'Alberti', 'aalberti9@blogspot.com', null);
insert into users (id, firstname, lastname, email, phone) values (11, 'Hanni', 'Cadney', 'hcadneya@phpbb.com', null);
insert into users (id, firstname, lastname, email, phone) values (12, 'Durant', 'Firebrace', 'dfirebraceb@biglobe.ne.jp', null);
insert into users (id, firstname, lastname, email, phone) values (13, 'Hobart', 'Osbaldeston', 'hosbaldestonc@posterous.com', null);
insert into users (id, firstname, lastname, email, phone) values (14, 'Milty', 'Tibbles', 'mtibblesd@unesco.org', null);
insert into users (id, firstname, lastname, email, phone) values (15, 'Ad', 'Byatt', 'abyatte@mtv.com', null);
insert into users (id, firstname, lastname, email, phone) values (16, 'Reina', 'Bingell', 'rbingellf@artisteer.com', null);
insert into users (id, firstname, lastname, email, phone) values (17, 'Cristiano', 'Schruurs', 'cschruursg@irs.gov', null);
insert into users (id, firstname, lastname, email, phone) values (18, 'Inglis', 'Shoorbrooke', 'ishoorbrookeh@jimdo.com', null);
insert into users (id, firstname, lastname, email, phone) values (19, 'Phebe', 'Collinson', 'pcollinsoni@slideshare.net', null);
insert into users (id, firstname, lastname, email, phone) values (20, 'Saudra', 'Lyste', 'slystej@purevolume.com', null);
insert into users (id, firstname, lastname, email, phone) values (21, 'Emlynn', 'Holhouse', 'eholhousek@com.com', null);
insert into users (id, firstname, lastname, email, phone) values (22, 'Veda', 'Kubec', 'vkubecl@about.com', null);
insert into users (id, firstname, lastname, email, phone) values (23, 'Lenci', 'Sprakes', 'lsprakesm@drupal.org', null);
insert into users (id, firstname, lastname, email, phone) values (24, 'Fidel', 'Pettko', 'fpettkon@gizmodo.com', null);
insert into users (id, firstname, lastname, email, phone) values (25, 'Cassandry', 'Steedman', 'csteedmano@scientificamerican.com', null);
insert into users (id, firstname, lastname, email, phone) values (26, 'Adamo', 'Maunders', 'amaundersp@census.gov', null);
insert into users (id, firstname, lastname, email, phone) values (27, 'Sarina', 'Paine', 'spaineq@theguardian.com', null);
insert into users (id, firstname, lastname, email, phone) values (28, 'Shannon', 'Dach', 'sdachr@netvibes.com', null);
insert into users (id, firstname, lastname, email, phone) values (29, 'Ashely', 'Stanluck', 'astanlucks@thetimes.co.uk', null);
insert into users (id, firstname, lastname, email, phone) values (30, 'Roderic', 'Margaret', 'rmargarett@wikimedia.org', null);
insert into users (id, firstname, lastname, email, phone) values (31, 'Debi', 'Balderstone', 'dbalderstoneu@fastcompany.com', null);
insert into users (id, firstname, lastname, email, phone) values (32, 'Mimi', 'Lohering', 'mloheringv@businessinsider.com', null);
insert into users (id, firstname, lastname, email, phone) values (33, 'Foss', 'Crean', 'fcreanw@cnbc.com', null);
insert into users (id, firstname, lastname, email, phone) values (34, 'Tessi', 'Mill', 'tmillx@yolasite.com', null);
insert into users (id, firstname, lastname, email, phone) values (35, 'Bradan', 'McKimmey', 'bmckimmeyy@taobao.com', null);
insert into users (id, firstname, lastname, email, phone) values (36, 'Will', 'Tunnacliffe', 'wtunnacliffez@xrea.com', null);
insert into users (id, firstname, lastname, email, phone) values (37, 'Jaine', 'Jagielski', 'jjagielski10@eepurl.com', null);
insert into users (id, firstname, lastname, email, phone) values (38, 'Frieda', 'Moxsom', 'fmoxsom11@i2i.jp', null);
insert into users (id, firstname, lastname, email, phone) values (39, 'Kitti', 'Etienne', 'ketienne12@sakura.ne.jp', null);
insert into users (id, firstname, lastname, email, phone) values (40, 'Merry', 'Plumtree', 'mplumtree13@va.gov', null);
insert into users (id, firstname, lastname, email, phone) values (41, 'Johann', 'MacSween', 'jmacsween14@meetup.com', null);
insert into users (id, firstname, lastname, email, phone) values (42, 'Aridatha', 'Betjeman', 'abetjeman15@newsvine.com', null);
insert into users (id, firstname, lastname, email, phone) values (43, 'Wilhelmine', 'Caccavari', 'wcaccavari16@reverbnation.com', null);
insert into users (id, firstname, lastname, email, phone) values (44, 'Loutitia', 'Gumb', 'lgumb17@stanford.edu', null);
insert into users (id, firstname, lastname, email, phone) values (45, 'Ceciley', 'Jump', 'cjump18@tinyurl.com', null);
insert into users (id, firstname, lastname, email, phone) values (46, 'Aldus', 'Durham', 'adurham19@dmoz.org', null);
insert into users (id, firstname, lastname, email, phone) values (47, 'Alic', 'Blackesland', 'ablackesland1a@blogspot.com', null);
insert into users (id, firstname, lastname, email, phone) values (48, 'Joya', 'Stockdale', 'jstockdale1b@washington.edu', null);
insert into users (id, firstname, lastname, email, phone) values (49, 'Dallas', 'Mumford', 'dmumford1c@moonfruit.com', null);
insert into users (id, firstname, lastname, email, phone) values (50, 'Linell', 'Garmanson', 'lgarmanson1d@telegraph.co.uk', null);

insert into likes (id, user_id, media_id, created_at) values (1, 1, 1, '2000-07-28');
insert into likes (id, user_id, media_id, created_at) values (2, 2, 2, '2008-05-30');
insert into likes (id, user_id, media_id, created_at) values (3, 3, 3, '2011-04-12');
insert into likes (id, user_id, media_id, created_at) values (4, 4, 4, '2001-05-10');
insert into likes (id, user_id, media_id, created_at) values (5, 5, 5, '2001-01-25');
insert into likes (id, user_id, media_id, created_at) values (6, 6, 6, '2018-04-22');
insert into likes (id, user_id, media_id, created_at) values (7, 7, 7, '2016-08-14');
insert into likes (id, user_id, media_id, created_at) values (8, 8, 8, '2002-04-13');
insert into likes (id, user_id, media_id, created_at) values (9, 9, 9, '2001-11-24');
insert into likes (id, user_id, media_id, created_at) values (10, 10, 10, '2018-06-24');
insert into likes (id, user_id, media_id, created_at) values (11, 11, 11, '2018-05-30');
insert into likes (id, user_id, media_id, created_at) values (12, 12, 12, '2012-02-21');
insert into likes (id, user_id, media_id, created_at) values (13, 13, 13, '2003-02-19');
insert into likes (id, user_id, media_id, created_at) values (14, 14, 14, '2009-11-26');
insert into likes (id, user_id, media_id, created_at) values (15, 15, 15, '2013-03-24');
insert into likes (id, user_id, media_id, created_at) values (16, 16, 16, '2019-05-26');
insert into likes (id, user_id, media_id, created_at) values (17, 17, 17, '2003-09-23');
insert into likes (id, user_id, media_id, created_at) values (18, 18, 18, '2006-02-28');
insert into likes (id, user_id, media_id, created_at) values (19, 19, 19, '2007-06-05');
insert into likes (id, user_id, media_id, created_at) values (20, 20, 20, '2002-08-13');
insert into likes (id, user_id, media_id, created_at) values (21, 21, 21, '2010-06-08');
insert into likes (id, user_id, media_id, created_at) values (22, 22, 22, '2012-12-23');
insert into likes (id, user_id, media_id, created_at) values (23, 23, 23, '2003-10-04');
insert into likes (id, user_id, media_id, created_at) values (24, 24, 24, '2008-05-29');
insert into likes (id, user_id, media_id, created_at) values (25, 25, 25, '2016-10-07');
insert into likes (id, user_id, media_id, created_at) values (26, 26, 26, '2017-02-26');
insert into likes (id, user_id, media_id, created_at) values (27, 27, 27, '2003-06-05');
insert into likes (id, user_id, media_id, created_at) values (28, 28, 28, '2002-04-09');
insert into likes (id, user_id, media_id, created_at) values (29, 29, 29, '2021-05-12');
insert into likes (id, user_id, media_id, created_at) values (30, 30, 30, '2020-11-01');
insert into likes (id, user_id, media_id, created_at) values (31, 31, 31, '2001-10-19');
insert into likes (id, user_id, media_id, created_at) values (32, 32, 32, '2001-01-03');
insert into likes (id, user_id, media_id, created_at) values (33, 33, 33, '2011-12-05');
insert into likes (id, user_id, media_id, created_at) values (34, 34, 34, '2002-08-08');
insert into likes (id, user_id, media_id, created_at) values (35, 35, 35, '2004-02-29');
insert into likes (id, user_id, media_id, created_at) values (36, 36, 36, '2016-04-07');
insert into likes (id, user_id, media_id, created_at) values (37, 37, 37, '2005-12-05');
insert into likes (id, user_id, media_id, created_at) values (38, 38, 38, '2009-04-02');
insert into likes (id, user_id, media_id, created_at) values (39, 39, 39, '2012-12-07');
insert into likes (id, user_id, media_id, created_at) values (40, 40, 40, '2012-04-09');
insert into likes (id, user_id, media_id, created_at) values (41, 41, 41, '2001-03-07');
insert into likes (id, user_id, media_id, created_at) values (42, 42, 42, '2018-10-27');
insert into likes (id, user_id, media_id, created_at) values (43, 43, 43, '2013-12-02');
insert into likes (id, user_id, media_id, created_at) values (44, 44, 44, '2008-10-30');
insert into likes (id, user_id, media_id, created_at) values (45, 45, 45, '2000-07-12');
insert into likes (id, user_id, media_id, created_at) values (46, 46, 46, '2015-09-27');
insert into likes (id, user_id, media_id, created_at) values (47, 47, 47, '2015-02-07');
insert into likes (id, user_id, media_id, created_at) values (48, 48, 48, '2014-10-30');
insert into likes (id, user_id, media_id, created_at) values (49, 49, 49, '2009-01-23');
insert into likes (id, user_id, media_id, created_at) values (50, 50, 50, '2019-05-17');


/*ii. Написать скрипт, возвращающий список имен (только firstname) пользователей без повторений в алфавитном порядке*/

select distinct firstname
from users
order by firstname;

/*iii. Написать скрипт, отмечающий несовершеннолетних пользователей как неактивных (поле is_active = false).
 *  Предварительно добавить такое поле в таблицу profiles со значением по умолчанию = true (или 1)*/

ALTER TABLE vk.profiles 
ADD COLUMN is_active BIT DEFAULT 1;

UPDATE profiles
SET is_active = 0
WHERE (birthday + INTERVAL 18 YEAR) > NOW();

select *
from profiles
where is_active = 0
order by birthday;

select *
from profiles
where is_active = 1
order by birthday;

/*iv. Написать скрипт, удаляющий сообщения «из будущего» (дата больше сегодняшней)*/

ALTER TABLE messages 
ADD COLUMN is_deleted BIT DEFAULT 0;

update messages
set created_at = now() + interval 1 year
limit 2;

update messages
set is_deleted = 1
where created_at > NOW();

delete from messages
where created_at > NOW()

select *
from messages
order by created_at desc;

